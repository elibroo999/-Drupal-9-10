# SB Projects

Кастомный модуль для Drupal 9/10.

## Функциональность модуля
1. Создаёт новый тип материала **Проект** (node type `project`).
2. Реализует блок **«Последние проекты (3)»**, который выводит ссылки на три последних опубликованных проекта.
3. (Опционально) модуль можно расширить REST-эндпоинтом `/api/projects`, но в рамках тестового задания он не реализован.

## Инструкция по запуску
1. Скопируйте папку `sb_projects` в директорию `/modules/custom/` вашего проекта Drupal.
2. Включите модуль в админке:  
   **Расширения → SB Projects → Установить**.
3. Добавьте поля к типу материала «Проект» через админку:  
   **Структура → Типы материалов → Проект → Управление полями**  
   (Добавьте «Описание» (text long), «Изображение» (image), «Дата окончания» (date)).
4. Создайте несколько материалов этого типа (через **Содержание → Добавить материал → Проект**).
5. Разместите блок **«Последние проекты (3)»**:  
   **Структура → Блоки → Разместить блок** → выберите регион (например, Content) и установите видимость для главной страницы (`<front>`).

## Архитектурные решения
- Тип материала «Проект» создаётся через конфигурационный файл `config/install/node.type.project.yml`.  
  Это позволяет быстро разворачивать структуру на любом проекте.
- Поля добавляются вручную через UI — это упрощает выполнение тестового задания и позволяет гибко менять структуру.
- Блок реализован как плагин `LatestProjectsBlock` в `src/Plugin/Block/`.  
  В нём используется `entityQuery`, чтобы выбрать последние 3 опубликованных проекта, и стандартный рендер `#theme = 'item_list'` для вывода.
- Кэш блока отключён (`max-age: 0`), чтобы новые проекты появлялись сразу без сброса кеша — удобно для тестирования.

## Сложности
- Наибольшую сложность вызвало вспоминание правильной структуры папок (`src/Plugin/Block`) и конфигурации для типа материала.
- Поля решено добавить через интерфейс, так как прописывать их в коде заняло бы больше времени — для тестового задания это не критично.
- REST-эндпоинт не реализован, так как задание отмечено как дополнительное.
